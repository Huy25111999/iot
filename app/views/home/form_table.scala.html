<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Form_NguoiDung</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <style >

        *,table{
            margin: 0 auto;
            padding: 0 auto;
            box-sizing: border-box;
            border-collapse: collapse;
        }
        .form_table tr, td,th{
            padding: 12px;
            border: 1px solid #000000;
            border-collapse: collapse;
        }

        /modal/

        #modal form input{
            display: block;
        }
        /*#modal .form-content*/
        #modal{
            margin-top: 50px;
            width: 600px;
            background: #599be0;
            color: #000;
        }
        .form-content {
            margin: 90px;
        }

        #modal .modal_close {
            height: 48px;
            color: #000000;
            font-size: 35px;
            text-align: right;
            padding: 20px;
            margin-right: -70px;
        }

        form.submit {
            text-align: center;
            margin-top: 18px;
        }
        .form-content .form_head{
            height: 48px;
            line-height: 48px;
            text-align: center;
        }

        .form-content .form-text{
            display: flex;
            padding: 14px;
        }
        .form-content .form-text label{
            width: 100px;
        }
        .form-content .input .form_bottom{
            text-align: center;
            padding-bottom: 20px ;
        }

    </style>
</head>
<body>
<div class = "table">
    <table class = "form_table" id ="form_table1">
        <tr>
            <th>STT</th>
            <th>MTV</th>
            <th>Họ Tên</th>
            <th>Ngày sinh</th>
            <th>Quê quán</th>
            <th>Số CMND</th>
            <th>Phone</th>
            <th>Chức năng</th>

        </tr>
        <tr>
            <td class = "stt">1</td>
            <td class = "MaTV">101</td>
            <td class = "hoTen">Le Van Huy</td>
            <td class = "ngaySing">25-11</td>
            <td class = "queQuan">Hưng Yên</td>
            <td class = "soCMND">1458824</td>
            <td class = "phone">03638429</td>
            <td>
                <input class="submit" type="button" value = "Delete" onclick="deleteRow(this);">
                <input class="submit" type="button" value = "Sửa" onclick="document.getElementById('modal').style.display='block';">

            </td>
        </tr>
        <tr>
            <td class = "stt">2</td>
            <td class = "MaTV">102</td>
            <td class = "hoTen">Humg</td>
            <td class = "ngaySing">03-08</td>
            <td class = "queQuan">Hà Nội</td>
            <td class = "soCMND">1834294</td>
            <td class = "phone">038234289</td>
            <td>
                <input class="submit" type="button" value = "Delete" onclick="deleteRow(this) ;">
                <input class="submit" type="button" value = "Sửa" onclick="document.getElementById('modal').style.display='block';">
            </td>
        </tr>
        <tr>
            <td class = "stt">3</td>
            <td class = "MaTV">103</td>
            <td class = "hoTen">Front End</td>
            <td class = "ngaySing">03-08</td>
            <td class = "queQuan">Hưng Yên</td>
            <td class = "soCMND">192732</td>
            <td class = "phone">038492</td>
            <td>
                <input class="submit" type="button" value = "Delete" onclick="deleteRow(this) ;">
                <input class="submit" type="button" value = "Sửa" onclick="document.getElementById('modal').style.display='block';">
            </td>
        </tr>
        <tr>
            <td class = "stt">4</td>
            <td class = "MaTV">104</td>
            <td class = "hoTen">Back End</td>
            <td class = "ngaySing">03-08</td>
            <td class = "queQuan">Hà Nội</td>
            <td class = "soCMND">18263</td>
            <td class = "phone">030304</td>
            <td>
                <input class="submit" type="button" value = "Delete" onclick="deleteRow(this) ;">
                <input class="submit" type="button" value = "Sửa" onclick="document.getElementById('modal').style.display='block';">
            </td>
        </tr>
    </table>
    <form action="" class = "submit">
        <input class="submit" type="button" value = "Thêm" onclick="document.getElementById('modal').style.display='block'">
    </form>
</div>

<div id="modal" style="display: none">

    <div class="form-content">
        <div class="modal_close" onclick="document.getElementById('modal').style.display='none';">
            <span class="glyphicon glyphicon-remove"></span>
        </div>
        <div class="form_head">
            <h3>Form thành viên</h3>
        </div>
        <form class = "input">
            <div class = "form-text">
                <label for="">STT</label>
                <input  class = "" type="text" name="stt" id="stt">
            </div>

            <div class = "form-text">
                <label for="">MTV</label>
                <input type="text" name="id" id="id">
            </div>

            <div class = "form-text">
                <label for="">Họ Tên</label>
                <input type="text" name="hoTen" id="hoTen">
             </div>

            <div class = "form-text">
                <label for="">Ngày sinh</label>
                <input type="text" name="ngaySinh" id="ngaySinh">
            </div>

            <div class = "form-text">
                <label for="">Quê quán</label>
                <input type="text" name="queQuan" id="queQuan">
             </div>

            <div class = "form-text">
                <label for="">Số CMND</label>
                <input type="text" name="soCMND" id="soCMND">
            </div>

            <div class = "form-text">
                <label for="">Phone</label>
                <input type="text" name="phone" id="phone">
            </div>

            <div class="form_bottom">
                <input type="button" value="Add" onclick="them();">
                <input type="button" value="Save" onclick="editRow();">
                <input type="button" value="Reset" onclick="resetRow();">
            </div>

        </form>
    </div>
</div>

<script>
    var table = document.getElementById("form_table1"),rIndex ;
    var row = table.rows.length,count;
    for(var i = 0; i < row; i++){
            table.rows[i].onclick = function(){
            rIndex = this.rowIndex;

            document.getElementById("stt").value = this.cells[0].innerHTML;
            document.getElementById("id").value = this.cells[1].innerHTML;
            document.getElementById("hoTen").value = this.cells[2].innerHTML;
            document.getElementById("ngaySinh").value = this.cells[3].innerHTML;
            document.getElementById("queQuan").value = this.cells[4].innerHTML;
            document.getElementById("soCMND").value = this.cells[5].innerHTML;
            document.getElementById("phone").value = this.cells[6].innerHTML;
        };
    }

    function check(){
        let Stt = document.getElementById('stt').value;
        let Id = document.getElementById('id').value;
        let HoTen = document.getElementById('hoTen').value;
        let NgaySinh = document.getElementById('ngaySinh').value;
        let QueQuan = document.getElementById('queQuan').value;
        let SoCMND = document.getElementById('soCMND').value;
        let Phone = document.getElementById('phone').value;
        if (Stt=="")
        {
            alert("STT ko được để trống");
            return false ;
        }
        if( Id == "") {
            alert("ID ko được để trống");
            return false;
        }
        if( HoTen == "") {
            alert("Họ tên ko được để trống");
            return false;
        }
        if( NgaySinh == "") {
            alert("NgaySinh ko được để trống");
            return false;
        }
        if( QueQuan == ""){
            alert("QueQuan ko được để trống");
            return false ;
        }
        if( SoCMND == "") {
            alert("soCMND ko được để trống");
            return false;
        }
        if ( Phone == "") {
            alert("phone ko được để trống");
            return false;
        }
        return true ;
    }

    function them(){
        let Stt = document.getElementById('stt').value;
        let Id = document.getElementById('id').value;
        let HoTen = document.getElementById('hoTen').value;
        let NgaySinh = document.getElementById('ngaySinh').value;
        let QueQuan = document.getElementById('queQuan').value;
        let SoCMND = document.getElementById('soCMND').value;
        let Phone = document.getElementById('phone').value;
        if (check() )
        {
            var tabLines = document.getElementById("form_table1");
            var tabLinesRow = tabLines.insertRow(tabLines.rows.length);
            var col1html = Stt;
            var col2html = Id;
            var col3html = HoTen;
            var col4html = NgaySinh;
            var col5html = QueQuan;
            var col6html = SoCMND;
            var col7html = Phone;
            var col8html = "                <input class=\"submit\" type=\"button\" value = \"Delete\" onclick=\"deleteRow(this) ;\">\n" +
                "                <input class=\"submit\" type=\"button\" value = \"Sửa\" onclick=\"document.getElementById('modal').style.display='block';\">" ;

            var col1 = tabLinesRow.insertCell(0); col1.innerHTML=col1html;
            var col2 = tabLinesRow.insertCell(1); col2.innerHTML=col2html;
            var col3 = tabLinesRow.insertCell(2); col3.innerHTML=col3html;
            var col4 = tabLinesRow.insertCell(3); col4.innerHTML=col4html;
            var col5 = tabLinesRow.insertCell(4); col5.innerHTML=col5html;
            var col6 = tabLinesRow.insertCell(5); col6.innerHTML=col6html;
            var col7 = tabLinesRow.insertCell(6); col7.innerHTML=col7html;
            var col8 = tabLinesRow.insertCell(7); col8.innerHTML=col8html;
        }
    }
    function resetRow(){
        document.getElementById('stt').value = "";
        document.getElementById('id').value = "";
        document.getElementById('hoTen').value = "";
        document.getElementById('ngaySinh').value = "";
        document.getElementById('queQuan').value = "";
        document.getElementById('soCMND').value = "";
        document.getElementById('phone').value = "";
    }

    // Sửa
    function editRow(){
        table.rows[rIndex].cells[0].innerHTML = document.getElementById("stt").value;
        table.rows[rIndex].cells[1].innerHTML = document.getElementById("id").value;
        table.rows[rIndex].cells[2].innerHTML = document.getElementById("hoTen").value;
        table.rows[rIndex].cells[3].innerHTML = document.getElementById("ngaySinh").value;
        table.rows[rIndex].cells[4].innerHTML = document.getElementById("queQuan").value;
        table.rows[rIndex].cells[5].innerHTML = document.getElementById("soCMND").value;
        table.rows[rIndex].cells[6].innerHTML = document.getElementById("phone").value;
    }

    //   Xóa
    function deleteRow(row){
        var i=row.parentNode.parentNode.rowIndex;
        document.getElementById('form_table1').deleteRow(i);
    }
</script>
</body>

</html>